{"version":3,"file":"index-CI5nXk-4.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../src/utils/platform-detection.ts","../../src/hooks/usePlatform.ts","../../src/components/adaptive/ResponsiveContainer.tsx","../../src/components/adaptive/AdaptiveCard.tsx","../../src/components/adaptive/AdaptiveButton.tsx","../../src/components/adaptive/AdaptiveLayout.tsx","../../../../shared/constants/chord-data.ts","../../../../shared/utils/transpose.ts","../../../../shared/utils/storage.ts","../../../../shared/utils/debounce.ts","../../src/components/TransposeTab.tsx","../../src/components/DictionaryTab.tsx","../../src/components/TransposeApp.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\r\n * Platform detection utilities for responsive design\r\n */\r\n\r\nexport interface PlatformInfo {\r\n  isMobile: boolean;\r\n  isTablet: boolean;\r\n  isDesktop: boolean;\r\n  screenWidth: number;\r\n  screenHeight: number;\r\n  deviceType: 'mobile' | 'tablet' | 'desktop';\r\n  orientation: 'portrait' | 'landscape';\r\n}\r\n\r\n// Breakpoints following common responsive design standards\r\nexport const BREAKPOINTS = {\r\n  mobile: 768,\r\n  tablet: 1024,\r\n  desktop: 1200\r\n} as const;\r\n\r\n/**\r\n * Get current platform information\r\n */\r\nexport function getPlatformInfo(): PlatformInfo {\r\n  const screenWidth = window.innerWidth;\r\n  const screenHeight = window.innerHeight;\r\n  \r\n  const isMobile = screenWidth < BREAKPOINTS.mobile;\r\n  const isTablet = screenWidth >= BREAKPOINTS.mobile && screenWidth < BREAKPOINTS.tablet;\r\n  const isDesktop = screenWidth >= BREAKPOINTS.tablet;\r\n  \r\n  let deviceType: 'mobile' | 'tablet' | 'desktop';\r\n  if (isMobile) {\r\n    deviceType = 'mobile';\r\n  } else if (isTablet) {\r\n    deviceType = 'tablet';\r\n  } else {\r\n    deviceType = 'desktop';\r\n  }\r\n  \r\n  const orientation = screenWidth > screenHeight ? 'landscape' : 'portrait';\r\n  \r\n  return {\r\n    isMobile,\r\n    isTablet,\r\n    isDesktop,\r\n    screenWidth,\r\n    screenHeight,\r\n    deviceType,\r\n    orientation\r\n  };\r\n}\r\n\r\n/**\r\n * Check if current device is mobile\r\n */\r\nexport function isMobileDevice(): boolean {\r\n  return window.innerWidth < BREAKPOINTS.mobile;\r\n}\r\n\r\n/**\r\n * Check if current device is tablet\r\n */\r\nexport function isTabletDevice(): boolean {\r\n  const width = window.innerWidth;\r\n  return width >= BREAKPOINTS.mobile && width < BREAKPOINTS.tablet;\r\n}\r\n\r\n/**\r\n * Check if current device is desktop\r\n */\r\nexport function isDesktopDevice(): boolean {\r\n  return window.innerWidth >= BREAKPOINTS.tablet;\r\n}\r\n\r\n/**\r\n * Get responsive grid columns based on screen size\r\n */\r\nexport function getResponsiveColumns(deviceType?: 'mobile' | 'tablet' | 'desktop'): number {\r\n  const type = deviceType || getPlatformInfo().deviceType;\r\n  \r\n  switch (type) {\r\n    case 'mobile':\r\n      return 1;\r\n    case 'tablet':\r\n      return 2;\r\n    case 'desktop':\r\n      return 3;\r\n    default:\r\n      return 2;\r\n  }\r\n}\r\n\r\n/**\r\n * Get responsive card size based on screen size\r\n */\r\nexport function getResponsiveCardSize(deviceType?: 'mobile' | 'tablet' | 'desktop'): 'small' | 'medium' | 'large' {\r\n  const type = deviceType || getPlatformInfo().deviceType;\r\n  \r\n  switch (type) {\r\n    case 'mobile':\r\n      return 'small';\r\n    case 'tablet':\r\n      return 'medium';\r\n    case 'desktop':\r\n      return 'large';\r\n    default:\r\n      return 'medium';\r\n  }\r\n}\r\n\r\n/**\r\n * Get responsive button size based on screen size\r\n */\r\nexport function getResponsiveButtonSize(deviceType?: 'mobile' | 'tablet' | 'desktop'): 'small' | 'medium' | 'large' {\r\n  const type = deviceType || getPlatformInfo().deviceType;\r\n  \r\n  switch (type) {\r\n    case 'mobile':\r\n      return 'medium';\r\n    case 'tablet':\r\n      return 'medium';\r\n    case 'desktop':\r\n      return 'large';\r\n    default:\r\n      return 'medium';\r\n  }\r\n}\r\n\r\n/**\r\n * Get responsive spacing based on screen size\r\n */\r\nexport function getResponsiveSpacing(deviceType?: 'mobile' | 'tablet' | 'desktop'): {\r\n  padding: string;\r\n  margin: string;\r\n  gap: string;\r\n} {\r\n  const type = deviceType || getPlatformInfo().deviceType;\r\n  \r\n  switch (type) {\r\n    case 'mobile':\r\n      return {\r\n        padding: '12px',\r\n        margin: '8px',\r\n        gap: '8px'\r\n      };\r\n    case 'tablet':\r\n      return {\r\n        padding: '16px',\r\n        margin: '12px',\r\n        gap: '12px'\r\n      };\r\n    case 'desktop':\r\n      return {\r\n        padding: '24px',\r\n        margin: '16px',\r\n        gap: '16px'\r\n      };\r\n    default:\r\n      return {\r\n        padding: '16px',\r\n        margin: '12px',\r\n        gap: '12px'\r\n      };\r\n  }\r\n}","/**\r\n * React hook for platform detection and responsive design\r\n */\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { getPlatformInfo, type PlatformInfo } from '../utils/platform-detection';\r\n\r\n/**\r\n * Hook to get current platform information with reactive updates\r\n */\r\nexport function usePlatform(): PlatformInfo {\r\n  const [platformInfo, setPlatformInfo] = useState<PlatformInfo>(() => getPlatformInfo());\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setPlatformInfo(getPlatformInfo());\r\n    };\r\n\r\n    // Add event listener for window resize\r\n    window.addEventListener('resize', handleResize);\r\n    \r\n    // Also listen for orientation change on mobile devices\r\n    window.addEventListener('orientationchange', handleResize);\r\n\r\n    // Cleanup\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n      window.removeEventListener('orientationchange', handleResize);\r\n    };\r\n  }, []);\r\n\r\n  return platformInfo;\r\n}\r\n\r\n/**\r\n * Hook to check if current device is mobile\r\n */\r\nexport function useIsMobile(): boolean {\r\n  const { isMobile } = usePlatform();\r\n  return isMobile;\r\n}\r\n\r\n/**\r\n * Hook to check if current device is tablet\r\n */\r\nexport function useIsTablet(): boolean {\r\n  const { isTablet } = usePlatform();\r\n  return isTablet;\r\n}\r\n\r\n/**\r\n * Hook to check if current device is desktop\r\n */\r\nexport function useIsDesktop(): boolean {\r\n  const { isDesktop } = usePlatform();\r\n  return isDesktop;\r\n}\r\n\r\n/**\r\n * Hook to get device type\r\n */\r\nexport function useDeviceType(): 'mobile' | 'tablet' | 'desktop' {\r\n  const { deviceType } = usePlatform();\r\n  return deviceType;\r\n}\r\n\r\n/**\r\n * Hook to get screen orientation\r\n */\r\nexport function useOrientation(): 'portrait' | 'landscape' {\r\n  const { orientation } = usePlatform();\r\n  return orientation;\r\n}","/**\r\n * Responsive Container Component\r\n * Provides adaptive padding and layout based on screen size\r\n */\r\n\r\nimport React from 'react';\r\nimport { usePlatform } from '../../hooks/usePlatform';\r\nimport { getResponsiveSpacing } from '../../utils/platform-detection';\r\n\r\ninterface ResponsiveContainerProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  maxWidth?: number;\r\n  centerContent?: boolean;\r\n}\r\n\r\nexport const ResponsiveContainer: React.FC<ResponsiveContainerProps> = ({\r\n  children,\r\n  className = '',\r\n  maxWidth,\r\n  centerContent = true\r\n}) => {\r\n  const platform = usePlatform();\r\n  const spacing = getResponsiveSpacing(platform.deviceType);\r\n  \r\n  const containerStyle: React.CSSProperties = {\r\n    padding: spacing.padding,\r\n    margin: centerContent ? '0 auto' : '0',\r\n    maxWidth: maxWidth || (platform.isMobile ? '100%' : platform.isTablet ? '768px' : '1200px'),\r\n    width: '100%'\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`responsive-container ${className}`}\r\n      style={containerStyle}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResponsiveContainer;","/**\r\n * Adaptive Card Component\r\n * Adjusts card size and spacing based on screen size\r\n */\r\n\r\nimport React from 'react';\r\nimport { Card } from 'tdesign-react';\r\nimport { usePlatform } from '../../hooks/usePlatform';\r\nimport { getResponsiveSpacing } from '../../utils/platform-detection';\r\n\r\ninterface AdaptiveCardProps {\r\n  title?: string;\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  actions?: React.ReactNode;\r\n  bordered?: boolean;\r\n}\r\n\r\nexport const AdaptiveCard: React.FC<AdaptiveCardProps> = ({\r\n  title,\r\n  children,\r\n  className = '',\r\n  actions,\r\n  bordered = true\r\n}) => {\r\n  const platform = usePlatform();\r\n  const spacing = getResponsiveSpacing(platform.deviceType);\r\n  \r\n  const cardStyle: React.CSSProperties = {\r\n    marginBottom: spacing.margin,\r\n    borderRadius: platform.isMobile ? '8px' : '12px'\r\n  };\r\n\r\n  const headerStyle: React.CSSProperties = {\r\n    fontSize: platform.isMobile ? '16px' : platform.isTablet ? '18px' : '20px',\r\n    fontWeight: '600'\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      title={title}\r\n      className={`adaptive-card ${className}`}\r\n      style={cardStyle}\r\n      actions={actions}\r\n      bordered={bordered}\r\n    >\r\n      <div style={{ padding: platform.isMobile ? '8px' : '12px' }}>\r\n        {children}\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default AdaptiveCard;","/**\r\n * Adaptive Button Component\r\n * Adjusts button size and spacing based on screen size\r\n */\r\n\r\nimport React from 'react';\r\nimport { Button } from 'tdesign-react';\r\nimport { usePlatform } from '../../hooks/usePlatform';\r\nimport { getResponsiveButtonSize } from '../../utils/platform-detection';\r\n\r\ninterface AdaptiveButtonProps {\r\n  children?: React.ReactNode;\r\n  onClick?: () => void;\r\n  variant?: 'base' | 'outline' | 'dashed' | 'text';\r\n  theme?: 'default' | 'primary' | 'success' | 'warning' | 'danger';\r\n  size?: 'small' | 'medium' | 'large';\r\n  disabled?: boolean;\r\n  loading?: boolean;\r\n  icon?: React.ReactNode;\r\n  className?: string;\r\n  block?: boolean;\r\n}\r\n\r\nexport const AdaptiveButton: React.FC<AdaptiveButtonProps> = ({\r\n  children,\r\n  onClick,\r\n  variant = 'base',\r\n  theme = 'default',\r\n  size: propSize,\r\n  disabled = false,\r\n  loading = false,\r\n  icon,\r\n  className = '',\r\n  block = false\r\n}) => {\r\n  const platform = usePlatform();\r\n  const size = propSize || getResponsiveButtonSize(platform.deviceType);\r\n  \r\n  const buttonStyle: React.CSSProperties = {\r\n    minHeight: platform.isMobile ? '40px' : platform.isTablet ? '44px' : '48px',\r\n    fontSize: platform.isMobile ? '14px' : '16px',\r\n    borderRadius: platform.isMobile ? '6px' : '8px'\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      size={size}\r\n      variant={variant}\r\n      theme={theme}\r\n      disabled={disabled}\r\n      loading={loading}\r\n      icon={icon}\r\n      onClick={onClick}\r\n      className={`adaptive-button ${className}`}\r\n      style={buttonStyle}\r\n      block={block}\r\n    >\r\n      {children}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default AdaptiveButton;","/**\r\n * Adaptive Layout Component\r\n * Provides responsive layout structure based on screen size\r\n */\r\n\r\nimport React from 'react';\r\nimport { Layout } from 'tdesign-react';\r\nimport { usePlatform } from '../../hooks/usePlatform';\r\nimport ResponsiveContainer from './ResponsiveContainer';\r\n\r\nconst { Header, Content } = Layout;\r\n\r\ninterface AdaptiveLayoutProps {\r\n  header?: React.ReactNode;\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nexport const AdaptiveLayout: React.FC<AdaptiveLayoutProps> = ({\r\n  header,\r\n  children,\r\n  className = ''\r\n}) => {\r\n  const platform = usePlatform();\r\n  \r\n  const headerStyle: React.CSSProperties = {\r\n    height: platform.isMobile ? '56px' : platform.isTablet ? '64px' : '72px',\r\n    padding: platform.isMobile ? '0 16px' : '0 24px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    borderBottom: '1px solid #e7e7e7'\r\n  };\r\n\r\n  const contentStyle: React.CSSProperties = {\r\n    minHeight: `calc(100vh - ${platform.isMobile ? '56px' : platform.isTablet ? '64px' : '72px'})`,\r\n    backgroundColor: '#f5f5f5'\r\n  };\r\n\r\n  return (\r\n    <div className={`adaptive-layout ${className}`}>\r\n      <Layout>\r\n        {header && (\r\n          <Header style={headerStyle}>\r\n            <ResponsiveContainer>\r\n              {header}\r\n            </ResponsiveContainer>\r\n          </Header>\r\n        )}\r\n        \r\n        <Content style={contentStyle}>\r\n          {children}\r\n        </Content>\r\n      </Layout>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdaptiveLayout;","/**\r\n * 和弦数据常量\r\n */\r\n\r\nimport type { KeyType } from '../types/chord';\r\n\r\n// 简化的调性列表（用于快速选择）\r\nexport const SIMPLE_KEYS: KeyType[] = ['C', 'D', 'E', 'F', 'G', 'A', 'B'];\r\n\r\n// 完整的调性列表（包含升降号）\r\nexport const ALL_KEYS: KeyType[] = [\r\n  'C', 'C#', 'Db', 'D', 'D#', 'Eb', 'E', 'F', \r\n  'F#', 'Gb', 'G', 'G#', 'Ab', 'A', 'A#', 'Bb', 'B'\r\n];\r\n\r\n// 完整的12调和弦数据\r\nexport const CHORD_MAPS = {\r\n  major: {\r\n    'C': ['C', 'Dm', 'Em', 'F', 'G', 'Am', 'Bdim'],\r\n    'C#': ['C#', 'D#m', 'E#m', 'F#', 'G#', 'A#m', 'B#dim'],\r\n    'Db': ['Db', 'Ebm', 'Fm', 'Gb', 'Ab', 'Bbm', 'Cdim'],\r\n    'D': ['D', 'Em', 'F#m', 'G', 'A', 'Bm', 'C#dim'],\r\n    'D#': ['D#', 'E#m', 'F##m', 'G#', 'A#', 'B#m', 'C##dim'],\r\n    'Eb': ['Eb', 'Fm', 'Gm', 'Ab', 'Bb', 'Cm', 'Ddim'],\r\n    'E': ['E', 'F#m', 'G#m', 'A', 'B', 'C#m', 'D#dim'],\r\n    'F': ['F', 'Gm', 'Am', 'Bb', 'C', 'Dm', 'Edim'],\r\n    'F#': ['F#', 'G#m', 'A#m', 'B', 'C#', 'D#m', 'E#dim'],\r\n    'Gb': ['Gb', 'Abm', 'Bbm', 'Cb', 'Db', 'Ebm', 'Fdim'],\r\n    'G': ['G', 'Am', 'Bm', 'C', 'D', 'Em', 'F#dim'],\r\n    'G#': ['G#', 'A#m', 'B#m', 'C#', 'D#', 'E#m', 'F##dim'],\r\n    'Ab': ['Ab', 'Bbm', 'Cm', 'Db', 'Eb', 'Fm', 'Gdim'],\r\n    'A': ['A', 'Bm', 'C#m', 'D', 'E', 'F#m', 'G#dim'],\r\n    'A#': ['A#', 'B#m', 'C##m', 'D#', 'E#', 'F##m', 'G##dim'],\r\n    'Bb': ['Bb', 'Cm', 'Dm', 'Eb', 'F', 'Gm', 'Adim'],\r\n    'B': ['B', 'C#m', 'D#m', 'E', 'F#', 'G#m', 'A#dim']\r\n  },\r\n  minor: {\r\n    'C': ['Cm', 'Ddim', 'Eb', 'Fm', 'Gm', 'Ab', 'Bb'],\r\n    'C#': ['C#m', 'D#dim', 'E', 'F#m', 'G#m', 'A', 'B'],\r\n    'Db': ['Dbm', 'Ebdim', 'Fb', 'Gbm', 'Abm', 'Bbb', 'Cb'],\r\n    'D': ['Dm', 'Edim', 'F', 'Gm', 'Am', 'Bb', 'C'],\r\n    'D#': ['D#m', 'E#dim', 'F#', 'G#m', 'A#m', 'B', 'C#'],\r\n    'Eb': ['Ebm', 'Fdim', 'Gb', 'Abm', 'Bbm', 'Cb', 'Db'],\r\n    'E': ['Em', 'F#dim', 'G', 'Am', 'Bm', 'C', 'D'],\r\n    'F': ['Fm', 'Gdim', 'Ab', 'Bbm', 'Cm', 'Db', 'Eb'],\r\n    'F#': ['F#m', 'G#dim', 'A', 'Bm', 'C#m', 'D', 'E'],\r\n    'Gb': ['Gbm', 'Abdim', 'Bbb', 'Cbm', 'Dbm', 'Ebb', 'Fb'],\r\n    'G': ['Gm', 'Adim', 'Bb', 'Cm', 'Dm', 'Eb', 'F'],\r\n    'G#': ['G#m', 'A#dim', 'B', 'C#m', 'D#m', 'E', 'F#'],\r\n    'Ab': ['Abm', 'Bbdim', 'Cb', 'Dbm', 'Ebm', 'Fb', 'Gb'],\r\n    'A': ['Am', 'Bdim', 'C', 'Dm', 'Em', 'F', 'G'],\r\n    'A#': ['A#m', 'B#dim', 'C#', 'D#m', 'E#m', 'F#', 'G#'],\r\n    'Bb': ['Bbm', 'Cdim', 'Db', 'Ebm', 'Fm', 'Gb', 'Ab'],\r\n    'B': ['Bm', 'C#dim', 'D', 'Em', 'F#m', 'G', 'A']\r\n  }\r\n} as const;\r\n\r\n// 罗马数字标记\r\nexport const ROMAN_NUMERALS = {\r\n  major: ['I', 'ii', 'iii', 'IV', 'V', 'vi', 'vii°'],\r\n  minor: ['i', 'ii°', 'III', 'iv', 'v', 'VI', 'VII']\r\n} as const;\r\n\r\n// 级数名称\r\nexport const DEGREE_NAMES = ['一度', '二度', '三度', '四度', '五度', '六度', '七度'] as const;\r\n\r\n// 常用和弦进行\r\nexport const COMMON_PROGRESSIONS = [\r\n  { label: '4536251', value: '4 5 3 6 2 5 1', description: '卡农进行' },\r\n  { label: '1625', value: '1 6 2 5', description: '圆周进行' },\r\n  { label: '251', value: '2 5 1', description: '爵士基础进行' },\r\n  { label: '6415', value: '6 4 1 5', description: '抒情进行' },\r\n  { label: '1564', value: '1 5 6 4', description: '流行进行' },\r\n  { label: '1451', value: '1 4 5 1', description: '古典终止式' }\r\n];\r\n\r\n// 和弦类型说明\r\nexport const CHORD_TYPE_LEGENDS = [\r\n  { label: '大三和弦', example: 'C, F, G', description: '明亮、稳定的和弦' },\r\n  { label: '小三和弦', example: 'Dm, Em, Am', description: '柔和、忧郁的和弦' },\r\n  { label: '减三和弦', example: 'Bdim', description: '紧张、不稳定的和弦' }\r\n] as const;","/**\r\n * 和弦移调核心算法\r\n */\r\n\r\nimport { CHORD_MAPS, ROMAN_NUMERALS } from '../constants/chord-data';\r\nimport type { \r\n  TransposeParams, \r\n  TransposeResult, \r\n  ChordData, \r\n  KeyType, \r\n  ChordType \r\n} from '../types/chord';\r\n\r\n/**\r\n * 移调核心函数\r\n */\r\nexport class TransposeEngine {\r\n  /**\r\n   * 执行和弦移调\r\n   * @param params 移调参数\r\n   * @returns 移调结果\r\n   */\r\n  static transpose(params: TransposeParams): TransposeResult {\r\n    const { progression, sourceKey, targetKey, isMinor, useSeventhChords = false } = params;\r\n\r\n    // 输入验证\r\n    if (!progression || !progression.trim()) {\r\n      return {\r\n        success: false,\r\n        data: [],\r\n        error: '和弦进行不能为空'\r\n      };\r\n    }\r\n\r\n    try {\r\n      const chordType: ChordType = isMinor ? 'minor' : 'major';\r\n      const sourceChords = CHORD_MAPS[chordType][sourceKey];\r\n      const targetChords = CHORD_MAPS[chordType][targetKey];\r\n      const romanNumerals = ROMAN_NUMERALS[chordType];\r\n\r\n      if (!sourceChords || !targetChords) {\r\n        return {\r\n          success: false,\r\n          data: [],\r\n          error: '不支持的调性'\r\n        };\r\n      }\r\n\r\n      // 解析和弦进行\r\n      const numbers = progression.split(/[\\s,]+/).filter(n => n.trim());\r\n      \r\n      const result: ChordData[] = numbers.map(num => {\r\n        const index = parseInt(num) - 1;\r\n        \r\n        if (index >= 0 && index < 7) {\r\n          let targetChord = targetChords[index];\r\n          \r\n          // 添加七和弦（除了减七和弦）\r\n          if (useSeventhChords && index !== 6) {\r\n            targetChord += '7';\r\n          }\r\n          \r\n          return {\r\n            chord: targetChord,\r\n            roman: romanNumerals[index],\r\n            original: sourceChords[index],\r\n            degree: index + 1\r\n          };\r\n        }\r\n        \r\n        // 无效的度数，保持原样\r\n        return { \r\n          chord: num, \r\n          roman: '', \r\n          original: num,\r\n          degree: parseInt(num) || 0\r\n        };\r\n      });\r\n\r\n      return {\r\n        success: true,\r\n        data: result\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        data: [],\r\n        error: error instanceof Error ? error.message : '移调失败'\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取指定调性的和弦列表\r\n   * @param key 调性\r\n   * @param isMinor 是否为小调\r\n   * @returns 和弦列表\r\n   */\r\n  static getChordsByKey(key: KeyType, isMinor: boolean = false): string[] {\r\n    const chordType: ChordType = isMinor ? 'minor' : 'major';\r\n    return [...(CHORD_MAPS[chordType][key] || [])];\r\n  }\r\n\r\n  /**\r\n   * 获取罗马数字标记\r\n   * @param isMinor 是否为小调\r\n   * @returns 罗马数字列表\r\n   */\r\n  static getRomanNumerals(isMinor: boolean = false): string[] {\r\n    return [...ROMAN_NUMERALS[isMinor ? 'minor' : 'major']];\r\n  }\r\n\r\n  /**\r\n   * 获取和弦的详细信息\r\n   * @param chordName 和弦名称\r\n   * @returns 和弦信息\r\n   */\r\n  static getChordInfo(chordName: string) {\r\n    // 解析和弦名称，提取根音、品质等信息\r\n    const root = chordName.replace(/[^A-G#b]/g, '');\r\n    const quality = chordName.replace(/^[A-G#b]+/, '');\r\n    \r\n    return {\r\n      root,\r\n      quality,\r\n      fullName: chordName,\r\n      type: this.getChordType(quality)\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 判断和弦类型\r\n   * @param quality 和弦品质标记\r\n   * @returns 和弦类型\r\n   */\r\n  private static getChordType(quality: string): string {\r\n    if (!quality || quality === '') return 'major';\r\n    if (quality === 'm') return 'minor';\r\n    if (quality === 'dim') return 'diminished';\r\n    if (quality === '7') return 'seventh';\r\n    if (quality === 'M7' || quality === 'maj7') return 'majorSeventh';\r\n    if (quality === 'm7') return 'minorSeventh';\r\n    return 'unknown';\r\n  }\r\n\r\n  /**\r\n   * 批量移调多个进行\r\n   * @param progressions 多个和弦进行\r\n   * @param sourceKey 源调\r\n   * @param targetKey 目标调\r\n   * @param isMinor 是否为小调\r\n   * @returns 移调结果数组\r\n   */\r\n  static batchTranspose(\r\n    progressions: string[], \r\n    sourceKey: KeyType, \r\n    targetKey: KeyType, \r\n    isMinor: boolean = false\r\n  ): TransposeResult[] {\r\n    return progressions.map(progression => \r\n      this.transpose({ progression, sourceKey, targetKey, isMinor })\r\n    );\r\n  }\r\n}","/**\r\n * 跨平台存储抽象层\r\n */\r\n\r\nimport type { StorageAdapter, TransposeSettings } from '../types/chord';\r\n\r\n/**\r\n * Web平台存储适配器\r\n */\r\nexport class WebStorageAdapter implements StorageAdapter {\r\n  get<T>(key: string, defaultValue?: T): T | null {\r\n    try {\r\n      const item = localStorage.getItem(key);\r\n      if (item === null) {\r\n        return defaultValue || null;\r\n      }\r\n      return JSON.parse(item);\r\n    } catch (error) {\r\n      console.error('Storage get error:', error);\r\n      return defaultValue || null;\r\n    }\r\n  }\r\n\r\n  set<T>(key: string, value: T): void {\r\n    try {\r\n      localStorage.setItem(key, JSON.stringify(value));\r\n    } catch (error) {\r\n      console.error('Storage set error:', error);\r\n    }\r\n  }\r\n\r\n  remove(key: string): void {\r\n    try {\r\n      localStorage.removeItem(key);\r\n    } catch (error) {\r\n      console.error('Storage remove error:', error);\r\n    }\r\n  }\r\n\r\n  clear(): void {\r\n    try {\r\n      localStorage.clear();\r\n    } catch (error) {\r\n      console.error('Storage clear error:', error);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 小程序存储适配器\r\n */\r\nexport class MiniprogramStorageAdapter implements StorageAdapter {\r\n  get<T>(key: string, defaultValue?: T): T | null {\r\n    try {\r\n      // @ts-ignore - wx is available in miniprogram environment\r\n      const value = (globalThis as any).wx?.getStorageSync(key);\r\n      return value || defaultValue || null;\r\n    } catch (error) {\r\n      console.error('Miniprogram storage get error:', error);\r\n      return defaultValue || null;\r\n    }\r\n  }\r\n\r\n  set<T>(key: string, value: T): void {\r\n    try {\r\n      // @ts-ignore - wx is available in miniprogram environment\r\n      (globalThis as any).wx?.setStorageSync(key, value);\r\n    } catch (error) {\r\n      console.error('Miniprogram storage set error:', error);\r\n    }\r\n  }\r\n\r\n  remove(key: string): void {\r\n    try {\r\n      // @ts-ignore - wx is available in miniprogram environment\r\n      (globalThis as any).wx?.removeStorageSync(key);\r\n    } catch (error) {\r\n      console.error('Miniprogram storage remove error:', error);\r\n    }\r\n  }\r\n\r\n  clear(): void {\r\n    try {\r\n      // @ts-ignore - wx is available in miniprogram environment\r\n      (globalThis as any).wx?.clearStorageSync();\r\n    } catch (error) {\r\n      console.error('Miniprogram storage clear error:', error);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 存储管理器\r\n */\r\nexport class StorageManager {\r\n  private adapter: StorageAdapter;\r\n\r\n  constructor(adapter: StorageAdapter) {\r\n    this.adapter = adapter;\r\n  }\r\n\r\n  /**\r\n   * 保存移调设置\r\n   */\r\n  saveTransposeSettings(settings: TransposeSettings): void {\r\n    this.adapter.set('transpose_settings', settings);\r\n  }\r\n\r\n  /**\r\n   * 获取移调设置\r\n   */\r\n  getTransposeSettings(): TransposeSettings | null {\r\n    return this.adapter.get('transpose_settings', {\r\n      sourceKey: 'C',\r\n      targetKey: 'G',\r\n      isMinor: false,\r\n      useSeventhChords: false\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 保存最近使用的进行\r\n   */\r\n  saveRecentProgressions(progressions: string[]): void {\r\n    // 限制最多保存10个\r\n    const limited = progressions.slice(0, 10);\r\n    this.adapter.set('recent_progressions', limited);\r\n  }\r\n\r\n  /**\r\n   * 获取最近使用的进行\r\n   */\r\n  getRecentProgressions(): string[] {\r\n    return this.adapter.get('recent_progressions', []) || [];\r\n  }\r\n\r\n  /**\r\n   * 添加到最近使用\r\n   */\r\n  addRecentProgression(progression: string): void {\r\n    const recent = this.getRecentProgressions();\r\n    const filtered = recent.filter(p => p !== progression);\r\n    filtered.unshift(progression);\r\n    this.saveRecentProgressions(filtered);\r\n  }\r\n\r\n  /**\r\n   * 保存收藏的进行\r\n   */\r\n  saveFavoriteProgressions(progressions: string[]): void {\r\n    this.adapter.set('favorite_progressions', progressions);\r\n  }\r\n\r\n  /**\r\n   * 获取收藏的进行\r\n   */\r\n  getFavoriteProgressions(): string[] {\r\n    return this.adapter.get('favorite_progressions', []) || [];\r\n  }\r\n\r\n  /**\r\n   * 切换收藏状态\r\n   */\r\n  toggleFavoriteProgression(progression: string): boolean {\r\n    const favorites = this.getFavoriteProgressions();\r\n    const index = favorites.indexOf(progression);\r\n    \r\n    if (index >= 0) {\r\n      favorites.splice(index, 1);\r\n      this.saveFavoriteProgressions(favorites);\r\n      return false; // 已取消收藏\r\n    } else {\r\n      favorites.push(progression);\r\n      this.saveFavoriteProgressions(favorites);\r\n      return true; // 已添加收藏\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 创建平台适配的存储管理器\r\n */\r\nexport function createStorageManager(): StorageManager {\r\n  // 检测运行环境\r\n  const wx = (globalThis as any).wx;\r\n  if (typeof wx !== 'undefined' && wx.getStorageSync) {\r\n    // 小程序环境\r\n    return new StorageManager(new MiniprogramStorageAdapter());\r\n  } else if (typeof localStorage !== 'undefined') {\r\n    // Web环境\r\n    return new StorageManager(new WebStorageAdapter());\r\n  } else {\r\n    // 降级处理，使用内存存储\r\n    console.warn('No storage available, using memory storage');\r\n    return new StorageManager(new MemoryStorageAdapter());\r\n  }\r\n}\r\n\r\n/**\r\n * 内存存储适配器（降级方案）\r\n */\r\nclass MemoryStorageAdapter implements StorageAdapter {\r\n  private storage: Map<string, any> = new Map();\r\n\r\n  get<T>(key: string, defaultValue?: T): T | null {\r\n    return this.storage.get(key) || defaultValue || null;\r\n  }\r\n\r\n  set<T>(key: string, value: T): void {\r\n    this.storage.set(key, value);\r\n  }\r\n\r\n  remove(key: string): void {\r\n    this.storage.delete(key);\r\n  }\r\n\r\n  clear(): void {\r\n    this.storage.clear();\r\n  }\r\n}","/**\r\n * 防抖工具函数\r\n */\r\n\r\n/**\r\n * 防抖函数\r\n * @param func 要防抖的函数\r\n * @param wait 等待时间（毫秒）\r\n * @param immediate 是否立即执行\r\n * @returns 防抖后的函数\r\n */\r\nexport function debounce<T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number,\r\n  immediate: boolean = false\r\n): (...args: Parameters<T>) => void {\r\n  let timeout: NodeJS.Timeout | null = null;\r\n\r\n  return function executedFunction(...args: Parameters<T>) {\r\n    const later = () => {\r\n      timeout = null;\r\n      if (!immediate) func(...args);\r\n    };\r\n\r\n    const callNow = immediate && !timeout;\r\n\r\n    if (timeout) {\r\n      clearTimeout(timeout);\r\n    }\r\n\r\n    timeout = setTimeout(later, wait) as any;\r\n\r\n    if (callNow) {\r\n      func(...args);\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * 节流函数\r\n * @param func 要节流的函数\r\n * @param limit 时间限制（毫秒）\r\n * @returns 节流后的函数\r\n */\r\nexport function throttle<T extends (...args: any[]) => any>(\r\n  func: T,\r\n  limit: number\r\n): (...args: Parameters<T>) => void {\r\n  let inThrottle: boolean = false;\r\n\r\n  return function executedFunction(...args: Parameters<T>) {\r\n    if (!inThrottle) {\r\n      func(...args);\r\n      inThrottle = true;\r\n      setTimeout(() => {\r\n        inThrottle = false;\r\n      }, limit);\r\n    }\r\n  };\r\n}","import React, { useState, useCallback, useEffect } from 'react';\r\nimport { \r\n  Input, \r\n  Select, \r\n  Switch, \r\n  Tag, \r\n  Space, \r\n  Collapse,\r\n  MessagePlugin\r\n} from 'tdesign-react';\r\nimport { CopyIcon, SwapIcon, RefreshIcon } from 'tdesign-icons-react';\r\nimport { useAppContext } from '../App';\r\nimport { ResponsiveGrid, AdaptiveCard, AdaptiveButton, usePlatform } from './adaptive';\r\nimport { TransposeEngine, SIMPLE_KEYS, COMMON_PROGRESSIONS, createStorageManager, debounce } from '../utils/shared-import';\r\nimport type { KeyType, TransposeSettings } from '../utils/shared-import';\r\nimport './TransposeTab.less';\r\n\r\nconst { Option } = Select;\r\nconst CollapsePanel = Collapse.Panel;\r\n\r\nconst TransposeTab: React.FC = () => {\r\n  const { fillProgressionData, clearFillData } = useAppContext();\r\n  const [progression, setProgression] = useState('');\r\n  const [sourceKey, setSourceKey] = useState<KeyType>('C');\r\n  const [targetKey, setTargetKey] = useState<KeyType>('G');\r\n  const [isMinor, setIsMinor] = useState(false);\r\n  const [useSeventhChords, setUseSeventhChords] = useState(false);\r\n  const [showComparison, setShowComparison] = useState(false);\r\n  const [recentProgressions, setRecentProgressions] = useState<string[]>([]);\r\n\r\n  const storageManager = createStorageManager();\r\n\r\n  // 加载设置\r\n  useEffect(() => {\r\n    const settings = storageManager.getTransposeSettings();\r\n    if (settings) {\r\n      setSourceKey(settings.sourceKey);\r\n      setTargetKey(settings.targetKey);\r\n      setIsMinor(settings.isMinor);\r\n      setUseSeventhChords(settings.useSeventhChords || false);\r\n    }\r\n    \r\n    const recent = storageManager.getRecentProgressions();\r\n    setRecentProgressions(recent);\r\n  }, []);\r\n\r\n  // 处理从和弦字典填入的数据\r\n  useEffect(() => {\r\n    if (fillProgressionData) {\r\n      setProgression(fillProgressionData);\r\n      storageManager.addRecentProgression(fillProgressionData);\r\n      setRecentProgressions(storageManager.getRecentProgressions());\r\n      clearFillData(); // 清除填入数据\r\n      MessagePlugin.success('已从和弦字典填入进行');\r\n    }\r\n  }, [fillProgressionData, clearFillData, storageManager]);\r\n\r\n  // 保存设置\r\n  const saveSettings = useCallback(() => {\r\n    const settings: TransposeSettings = {\r\n      sourceKey,\r\n      targetKey,\r\n      isMinor,\r\n      useSeventhChords\r\n    };\r\n    storageManager.saveTransposeSettings(settings);\r\n  }, [sourceKey, targetKey, isMinor, useSeventhChords, storageManager]);\r\n\r\n  // 防抖保存设置\r\n  const debouncedSaveSettings = useCallback(\r\n    debounce(saveSettings, 500),\r\n    [saveSettings]\r\n  );\r\n\r\n  useEffect(() => {\r\n    debouncedSaveSettings();\r\n  }, [sourceKey, targetKey, isMinor, useSeventhChords, debouncedSaveSettings]);\r\n\r\n  // 处理选择器变化\r\n  const handleSourceKeyChange = (value: any) => {\r\n    setSourceKey(value as KeyType);\r\n  };\r\n\r\n  const handleTargetKeyChange = (value: any) => {\r\n    setTargetKey(value as KeyType);\r\n  };\r\n\r\n  // 执行转调\r\n  const result = TransposeEngine.transpose({\r\n    progression,\r\n    sourceKey,\r\n    targetKey,\r\n    isMinor,\r\n    useSeventhChords\r\n  });\r\n\r\n  // 复制结果\r\n  const handleCopy = () => {\r\n    if (result.success && result.data.length > 0) {\r\n      const chordString = result.data.map(r => r.chord).join(' ');\r\n      navigator.clipboard.writeText(chordString).then(() => {\r\n        MessagePlugin.success('已复制到剪贴板');\r\n      }).catch(() => {\r\n        MessagePlugin.error('复制失败');\r\n      });\r\n    }\r\n  };\r\n\r\n  // 交换调性\r\n  const handleSwapKeys = () => {\r\n    const temp = sourceKey;\r\n    setSourceKey(targetKey);\r\n    setTargetKey(temp);\r\n  };\r\n\r\n  // 填入常用进行\r\n  const handleFillProgression = (value: string) => {\r\n    setProgression(value);\r\n    storageManager.addRecentProgression(value);\r\n    setRecentProgressions(storageManager.getRecentProgressions());\r\n  };\r\n\r\n  // 清空输入\r\n  const handleClear = () => {\r\n    setProgression('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"transpose-tab\">\r\n      <div className=\"responsive-grid grid-1\">\r\n        {/* 输入区域 */}\r\n        <AdaptiveCard title=\"和弦进行输入\" className=\"input-card\">\r\n          <div className=\"input-section\">\r\n            <div className=\"progression-input\">\r\n              <Input\r\n                placeholder=\"例如：4 5 3 6 2 5 1\"\r\n                value={progression}\r\n                onChange={setProgression}\r\n                clearable\r\n                size=\"large\"\r\n              />\r\n              <div className=\"input-actions\">\r\n                <AdaptiveButton \r\n                  variant=\"outline\" \r\n                  size=\"small\" \r\n                  onClick={handleClear}\r\n                  icon={<RefreshIcon />}\r\n                >\r\n                  清空\r\n                </AdaptiveButton>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"key-selection responsive-grid grid-2\">\r\n              <div className=\"key-group\">\r\n                <label className=\"form-label\">源调</label>\r\n                <div className=\"key-input-group\">\r\n                  <Select \r\n                    value={sourceKey} \r\n                    onChange={handleSourceKeyChange}\r\n                    size=\"large\"\r\n                  >\r\n                    {SIMPLE_KEYS.map(key => (\r\n                      <Option key={key} value={key}>{key}</Option>\r\n                    ))}\r\n                  </Select>\r\n                  <AdaptiveButton \r\n                    variant=\"outline\"\r\n                    onClick={handleSwapKeys}\r\n                    icon={<SwapIcon />}\r\n                  >\r\n                  </AdaptiveButton>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"key-group\">\r\n                <label className=\"form-label\">目标调</label>\r\n                <Select \r\n                  value={targetKey} \r\n                  onChange={handleTargetKeyChange}\r\n                  size=\"large\"\r\n                >\r\n                  {SIMPLE_KEYS.map(key => (\r\n                    <Option key={key} value={key}>{key}</Option>\r\n                  ))}\r\n                </Select>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"options-row\">\r\n              <div className=\"switch-group\">\r\n                <Switch\r\n                  value={isMinor}\r\n                  onChange={setIsMinor}\r\n                  label=\"小调\"\r\n                />\r\n              </div>\r\n              <div className=\"switch-group\">\r\n                <Switch\r\n                  value={useSeventhChords}\r\n                  onChange={setUseSeventhChords}\r\n                  label=\"七和弦\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </AdaptiveCard>\r\n\r\n        {/* 常用进行 */}\r\n        <AdaptiveCard title=\"常用走向\" className=\"progressions-card\">\r\n          <div className=\"progressions-grid\">\r\n            {COMMON_PROGRESSIONS.map(prog => (\r\n              <Tag\r\n                key={prog.label}\r\n                variant=\"outline\"\r\n                className=\"progression-tag\"\r\n                onClick={() => handleFillProgression(prog.value)}\r\n              >\r\n                {prog.label}\r\n              </Tag>\r\n            ))}\r\n          </div>\r\n          \r\n          {recentProgressions.length > 0 && (\r\n            <div className=\"recent-section\">\r\n              <div className=\"section-title\">最近使用</div>\r\n              <div className=\"progressions-grid\">\r\n                {recentProgressions.slice(0, 5).map((prog, index) => (\r\n                  <Tag\r\n                    key={index}\r\n                    variant=\"light-outline\"\r\n                    className=\"progression-tag recent\"\r\n                    onClick={() => handleFillProgression(prog)}\r\n                  >\r\n                    {prog}\r\n                  </Tag>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </AdaptiveCard>\r\n\r\n        {/* 转换结果 */}\r\n        {result.success && result.data.length > 0 && (\r\n          <AdaptiveCard \r\n            title=\"转换结果\" \r\n            className=\"result-card\"\r\n            actions={\r\n                <AdaptiveButton \r\n                  variant=\"outline\"\r\n                  onClick={handleClear}\r\n                  icon={<RefreshIcon />}\r\n                >\r\n                  清空\r\n                </AdaptiveButton>\r\n            }\r\n          >\r\n            <div className=\"result-content\">\r\n              <div className=\"chords-display\">\r\n                {result.data.map((item, index) => (\r\n                  <div key={index} className=\"chord-item\">\r\n                    <Tag size=\"large\" className=\"chord-tag\">\r\n                      {item.chord}\r\n                    </Tag>\r\n                    <div className=\"roman-numeral\">{item.roman}</div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              \r\n              <div className=\"result-actions\">\r\n                <AdaptiveButton\r\n                  variant=\"text\"\r\n                  onClick={() => setShowComparison(!showComparison)}\r\n                >\r\n                  {showComparison ? '隐藏' : '显示'}对照\r\n                </AdaptiveButton>\r\n              </div>\r\n            </div>\r\n            \r\n            {showComparison && (\r\n              <Collapse className=\"comparison-collapse\">\r\n                <CollapsePanel header=\"原调→目标调对照\">\r\n                  <div className=\"comparison-list\">\r\n                    {result.data.map((item, index) => (\r\n                      <div key={index} className=\"comparison-item\">\r\n                        <span className=\"original\">{item.original}</span>\r\n                        <span className=\"arrow\">→</span>\r\n                        <span className=\"target\">{item.chord}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </CollapsePanel>\r\n              </Collapse>\r\n            )}\r\n          </AdaptiveCard>\r\n        )}\r\n\r\n        {/* 错误提示 */}\r\n        {!result.success && progression.trim() && (\r\n          <AdaptiveCard className=\"error-card\">\r\n            <div className=\"error-content\">\r\n              <span className=\"error-text\">{result.error}</span>\r\n            </div>\r\n          </AdaptiveCard>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransposeTab;","import React, { useState } from 'react';\r\nimport { \r\n  Select, \r\n  Switch, \r\n  Tag, \r\n  MessagePlugin\r\n} from 'tdesign-react';\r\nimport { ArrowRightIcon } from 'tdesign-icons-react';\r\nimport { useAppContext } from '../App';\r\nimport { AdaptiveCard, AdaptiveButton } from './adaptive';\r\nimport { \r\n  TransposeEngine, \r\n  SIMPLE_KEYS, \r\n  DEGREE_NAMES,\r\n  COMMON_PROGRESSIONS\r\n} from '../utils/shared-import';\r\nimport type { KeyType } from '../utils/shared-import';\r\nimport './DictionaryTab.less';\r\n\r\nconst { Option } = Select;\r\n\r\nconst DictionaryTab: React.FC = () => {\r\n  const { fillProgression } = useAppContext();\r\n  const [selectedKey, setSelectedKey] = useState<KeyType>('C');\r\n  const [isMinor, setIsMinor] = useState(false);\r\n\r\n  const chords = TransposeEngine.getChordsByKey(selectedKey, isMinor);\r\n  const romanNumerals = TransposeEngine.getRomanNumerals(isMinor);\r\n\r\n  // 处理选择器变化\r\n  const handleKeyChange = (value: any) => {\r\n    setSelectedKey(value as KeyType);\r\n  };\r\n\r\n  const handleFillToTransposer = (degree: number) => {\r\n    fillProgression(degree.toString());\r\n    MessagePlugin.success(`已填入第${degree}级和弦到转调工具`);\r\n  };\r\n\r\n  const handleQuickFill = (progression: string) => {\r\n    fillProgression(progression);\r\n    MessagePlugin.success('已填入和弦进行到转调工具');\r\n  };\r\n\r\n  return (\r\n    <div className=\"dictionary-tab\">\r\n      <div className=\"responsive-grid grid-1\">\r\n        {/* 筛选区域 */}\r\n        <AdaptiveCard title=\"调式选择\" className=\"filter-card\">\r\n          <div className=\"filter-section\">\r\n            <div className=\"key-selection responsive-grid grid-2\">\r\n              <div className=\"key-group\">\r\n                <label className=\"form-label\">调</label>\r\n                <Select \r\n                  value={selectedKey} \r\n                  onChange={handleKeyChange}\r\n                  size=\"large\"\r\n                >\r\n                  {SIMPLE_KEYS.map(key => (\r\n                    <Option key={key} value={key}>{key}</Option>\r\n                  ))}\r\n                </Select>\r\n              </div>\r\n              \r\n              <div className=\"switch-group\">\r\n                <Switch\r\n                  value={isMinor}\r\n                  onChange={setIsMinor}\r\n                  label=\"小调\"\r\n                  size=\"large\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </AdaptiveCard>\r\n\r\n        {/* 度数表 */}\r\n        <AdaptiveCard \r\n          title={`${selectedKey}${isMinor ? '小调' : '大调'} 和弦表`}\r\n          className=\"chords-card\"\r\n        >\r\n          <div className=\"chords-list\">\r\n            {chords.map((chord, index) => (\r\n              <div key={index} className=\"chord-row\">\r\n                <div className=\"chord-info\">\r\n                  <div className=\"degree-badge\">\r\n                    <Tag variant=\"outline\" size=\"large\">\r\n                      {index + 1}\r\n                    </Tag>\r\n                  </div>\r\n                  <div className=\"chord-details\">\r\n                    <div className=\"chord-name\">{chord}</div>\r\n                    <div className=\"chord-meta\">\r\n                      <span className=\"roman\">{romanNumerals[index]}</span>\r\n                      <span className=\"separator\">·</span>\r\n                      <span className=\"degree-name\">{DEGREE_NAMES[index]}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <AdaptiveButton\r\n                  variant=\"text\"\r\n                  onClick={() => handleFillToTransposer(index + 1)}\r\n                  icon={<ArrowRightIcon />}\r\n                >\r\n                  填入\r\n                </AdaptiveButton>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </AdaptiveCard>\r\n\r\n        {/* 和弦标记说明 */}\r\n        <AdaptiveCard title=\"和弦标记说明\" className=\"info-card\">\r\n          <div className=\"chord-types\">\r\n            <div className=\"type-row\">\r\n              <span className=\"type-label\">大三和弦</span>\r\n              <span className=\"type-examples\">C, F, G</span>\r\n            </div>\r\n            <div className=\"type-row\">\r\n              <span className=\"type-label\">小三和弦</span>\r\n              <span className=\"type-examples\">Dm, Em, Am</span>\r\n            </div>\r\n            <div className=\"type-row\">\r\n              <span className=\"type-label\">减三和弦</span>\r\n              <span className=\"type-examples\">Bdim</span>\r\n            </div>\r\n            <div className=\"type-row\">\r\n              <span className=\"type-label\">七和弦</span>\r\n              <span className=\"type-examples\">C7, Dm7, G7</span>\r\n            </div>\r\n          </div>\r\n        </AdaptiveCard>\r\n\r\n        {/* 快捷操作 */}\r\n        <AdaptiveCard title=\"快捷填入\" className=\"quick-actions-card\">\r\n          <div className=\"quick-actions-grid responsive-grid grid-2\">\r\n            <AdaptiveButton\r\n              variant=\"outline\"\r\n              onClick={() => handleQuickFill('1 4 5 1')}\r\n            >\r\n              I-IV-V-I\r\n            </AdaptiveButton>\r\n            <AdaptiveButton\r\n              variant=\"outline\"\r\n              onClick={() => handleQuickFill('6 4 1 5')}\r\n            >\r\n              vi-IV-I-V\r\n            </AdaptiveButton>\r\n            <AdaptiveButton\r\n              variant=\"outline\"\r\n              onClick={() => handleQuickFill('1 6 2 5')}\r\n            >\r\n              I-vi-ii-V\r\n            </AdaptiveButton>\r\n            <AdaptiveButton\r\n              variant=\"outline\"\r\n              onClick={() => handleQuickFill('4 5 3 6 2 5 1')}\r\n            >\r\n              卡农进行\r\n            </AdaptiveButton>\r\n          </div>\r\n        </AdaptiveCard>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DictionaryTab;","import React from 'react';\r\nimport { Tabs } from 'tdesign-react';\r\nimport { MusicIcon, BookOpenIcon } from 'tdesign-icons-react';\r\nimport { useAppContext } from '../App';\r\nimport { AdaptiveLayout, ResponsiveContainer, usePlatform } from './adaptive';\r\nimport TransposeTab from './TransposeTab';\r\nimport DictionaryTab from './DictionaryTab';\r\nimport './TransposeApp.less';\r\n\r\nconst { TabPanel } = Tabs;\r\n\r\nconst TransposeApp: React.FC = () => {\r\n  const { activeTab, setActiveTab } = useAppContext();\r\n  const platform = usePlatform();\r\n\r\n  const handleTabChange = (value: string | number) => {\r\n    setActiveTab(String(value));\r\n  };\r\n\r\n  // Adaptive header content\r\n  const headerContent = (\r\n    <div className=\"header-content\" style={{ \r\n      display: 'flex', \r\n      alignItems: 'center', \r\n      justifyContent: 'space-between',\r\n      width: '100%'\r\n    }}>\r\n      <div className=\"logo\" style={{ \r\n        display: 'flex', \r\n        alignItems: 'center', \r\n        gap: platform.isMobile ? '8px' : '12px'\r\n      }}>\r\n        <MusicIcon size={platform.isMobile ? \"20px\" : \"24px\"} />\r\n        <span className=\"logo-text\" style={{\r\n          fontSize: platform.isMobile ? '18px' : platform.isTablet ? '20px' : '24px',\r\n          fontWeight: '600'\r\n        }}>\r\n          Quick Transpose\r\n        </span>\r\n      </div>\r\n      {!platform.isMobile && (\r\n        <div className=\"subtitle\" style={{\r\n          fontSize: platform.isTablet ? '14px' : '16px',\r\n          color: '#666'\r\n        }}>\r\n          和弦转调工具\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  // Adaptive tab size\r\n  const tabSize = platform.isMobile ? 'medium' : 'large';\r\n\r\n  return (\r\n    <div className=\"transpose-app\">\r\n      <AdaptiveLayout header={headerContent}>\r\n        <ResponsiveContainer>\r\n          <div className=\"main-card\" style={{\r\n            backgroundColor: 'white',\r\n            borderRadius: platform.isMobile ? '8px' : '12px',\r\n            overflow: 'hidden',\r\n            boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)'\r\n          }}>\r\n            <Tabs \r\n              value={activeTab} \r\n              onChange={handleTabChange}\r\n              placement=\"top\"\r\n              size={tabSize}\r\n            >\r\n              <TabPanel \r\n                value=\"transpose\" \r\n                label={\r\n                  <div className=\"tab-label\" style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: platform.isMobile ? '4px' : '8px'\r\n                  }}>\r\n                    <MusicIcon size={platform.isMobile ? \"14px\" : \"16px\"} />\r\n                    <span style={{ fontSize: platform.isMobile ? '14px' : '16px' }}>\r\n                      {platform.isMobile ? '转调' : '转调工具'}\r\n                    </span>\r\n                  </div>\r\n                }\r\n              >\r\n                <TransposeTab />\r\n              </TabPanel>\r\n              \r\n              <TabPanel \r\n                value=\"dictionary\" \r\n                label={\r\n                  <div className=\"tab-label\" style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: platform.isMobile ? '4px' : '8px'\r\n                  }}>\r\n                    <BookOpenIcon size={platform.isMobile ? \"14px\" : \"16px\"} />\r\n                    <span style={{ fontSize: platform.isMobile ? '14px' : '16px' }}>\r\n                      {platform.isMobile ? '字典' : '和弦字典'}\r\n                    </span>\r\n                  </div>\r\n                }\r\n              >\r\n                <DictionaryTab />\r\n              </TabPanel>\r\n            </Tabs>\r\n          </div>\r\n        </ResponsiveContainer>\r\n      </AdaptiveLayout>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransposeApp;\r\n","import React, { createContext, useContext, useState } from 'react';\r\nimport { ConfigProvider } from 'tdesign-react';\r\nimport 'tdesign-react/esm/style/index.js';\r\nimport TransposeApp from './components/TransposeApp';\r\nimport './App.less';\r\n\r\n// 创建应用上下文用于组件间通信\r\ninterface AppContextType {\r\n  activeTab: string;\r\n  setActiveTab: (tab: string) => void;\r\n  fillProgression: (progression: string) => void;\r\n  fillProgressionData: string | null;\r\n  clearFillData: () => void;\r\n}\r\n\r\nconst AppContext = createContext<AppContextType | undefined>(undefined);\r\n\r\nexport const useAppContext = () => {\r\n  const context = useContext(AppContext);\r\n  if (!context) {\r\n    throw new Error('useAppContext must be used within AppProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nfunction App() {\r\n  const [activeTab, setActiveTab] = useState('transpose');\r\n  const [fillProgressionData, setFillProgressionData] = useState<string | null>(null);\r\n\r\n  const fillProgression = (progression: string) => {\r\n    setFillProgressionData(progression);\r\n    setActiveTab('transpose'); // 自动切换到转调工具页面\r\n  };\r\n\r\n  const clearFillData = () => {\r\n    setFillProgressionData(null);\r\n  };\r\n\r\n  const contextValue: AppContextType = {\r\n    activeTab,\r\n    setActiveTab,\r\n    fillProgression,\r\n    fillProgressionData,\r\n    clearFillData\r\n  };\r\n\r\n  return (\r\n      <ConfigProvider globalConfig={{}}>\r\n      <AppContext.Provider value={contextValue}>\r\n        <div className=\"app\">\r\n          <TransposeApp />\r\n        </div>\r\n      </AppContext.Provider>\r\n    </ConfigProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport App from './App.tsx'\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n)"],"names":["require$$0","m","jsxRuntimeModule","useState","useEffect","jsx","n","p","Option","useCallback","jsxs","createContext","useContext","ReactDOM"],"mappings":"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","x_google_ignoreList":[0,1,2]}